<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promises in JS</title>
</head>
<body>
    <button id="click">Click me</button>
    <div id="result"></div>
    <script>
        const url = 'https://catfact.ninja/fact';
        const baseUrl = 'https://swapi.dev/api';
        let button = document.getElementById('click').addEventListener('click', getCatsFact);
        let output = document.getElementById('result');

        function getCatsFact(ev) {
            output.textContent = 'Loading...';
            let catfact = fetch(url);

            catfact
                .then(response => {
                    console.log(response);

                    let res = response.json()
                        .then(result => {
                            console.log(result);
                            output.textContent = result.fact;
                        });
                    
                })
                .catch(err => {
                    console.log(err);
                });

            console.log('Finish');
        }

        async function get_names(id) {
            let response = await fetch(`${baseUrl}/${id}`);
            let character = await response.json();
            return character;
        }
    </script>
</body>
</html>